<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>텍스트 이미지 생성기</title>
  <style>
    @font-face {
      font-family: 'MM_inn';
      src: url('fonts/MM_inn.woff2') format('woff2'),
           url('fonts/MM_inn.woff') format('woff');
    }

    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    #output {
      margin-top: 20px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <h2>텍스트를 MM_inn 폰트로 이미지로 만들기</h2>
  <textarea id="textInput" rows="4" cols="40" placeholder="여기에 텍스트를 입력하세요"></textarea><br>
  <button onclick="renderText()">이미지로 만들기</button>
  <br><br>
  <canvas id="output" width="800" height="200"></canvas>
  <br>
  <button onclick="downloadImage()">이미지 다운로드</button>

  <script>
    async function renderText() {
      const canvas = document.getElementById('output');
      const ctx = canvas.getContext('2d');
      const text = document.getElementById('textInput').value;

      // 폰트 로드 대기 (중요!)
      await document.fonts.load('20px "MM_inn"');

      // 캔버스 클리어
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // 배경색 (선택사항)
      ctx.fillStyle = 'white';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // 폰트 스타일 적용
      ctx.fillStyle = 'black';
      ctx.font = '48px MM_inn';
      ctx.fillText(text, 50, 100); // 위치 조정 가능
    }

    function downloadImage() {
      const canvas = document.getElementById('output');
      const link = document.createElement('a');
      link.download = 'text_image.png';
      link.href = canvas.toDataURL();
      link.click();
    }
  </script>
</body>
</html>
