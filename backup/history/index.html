<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>운명의 소용돌이 파트너 기록 | SRPG LIFE</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4; /* 밝은 회색 배경 */
            color: #333; /* 다크 그레이 텍스트 */
            margin: 0;
            padding: 20px;
        }

        h2 {
            text-align: center;
            color: #333; /* 다크 그레이 텍스트 */
            margin-bottom: 10px;
        }

        #achievement-status {
            text-align: center;
            color: #555; /* 중간 회색 텍스트 */
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        #storage-warning {
            text-align: center;
            color: #888; /* 연한 회색 텍스트 */
            font-size: 0.9em; /* 작은 폰트 */
            margin-top: 0;
            margin-bottom: 30px;
        }

        .container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .category {
            border: 1px solid #ddd; /* 밝은 회색 테두리 */
            border-radius: 8px;
            padding: 15px;
            background-color: #ffffff; /* 화이트 배경 */
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); /* 부드러운 그림자 */
            min-height: 120px; /* 카테고리 최소 높이 설정 */
        }

        .category h3 {
            margin: 0 0 10px;
            color: #333; /* 다크 그레이 텍스트 */
            font-size: 1.2em;
        }

        .images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
            gap: 15px;
            justify-content: flex-start; /* 왼쪽 정렬 */
        }

        .images img {
            width: 70px;
            height: 70px;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            border: 2px solid #ddd; /* 밝은 회색 테두리 */
            border-radius: 8px;
            background-color: #f9f9f9; /* 밝은 배경색 */
        }

        .images img:hover {
            transform: scale(1.1);
            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2); /* 호버 시 그림자 */
        }

        .achievement-complete {
            color: orange; /* 업적 완료 시 오렌지 컬러 */
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h2>운명의 소용돌이 파트너 기록</h2>
    <div id="achievement-status">업적까지 30명 남음</div> <!-- 업적 상태 표시 -->
    <div id="storage-warning">인터넷 기록 삭제 시 기록이 초기화 될 수 있습니다.</div> <!-- localStorage 사용 경고 -->
    <div class="container">
        <div class="category" id="unused-category">
            <h3>사용하지 않음</h3>
            <div class="images" id="unused-images">
                <!-- 1번부터 61번까지 이미지를 배치 -->
            </div>
        </div>
        <div class="category" id="used-category">
            <h3>사용 함</h3>
            <div class="images" id="used-images"></div>
        </div>
    </div>

    <script>
        // 초기 변수 설정
        const totalImages = 61;
        const achievementGoal = 30;
        let currentCount = 0;
        
        const unusedImagesContainer = document.getElementById('unused-images');
        const usedImagesContainer = document.getElementById('used-images');
        const achievementStatus = document.getElementById('achievement-status');

        function loadImages() {
            for (let i = 1; i <= totalImages; i++) {
                const imgElement = document.createElement('img');
                imgElement.src = `images/${i}.png`;
                imgElement.alt = `이미지 ${i}`;
                imgElement.dataset.id = i;
                imgElement.addEventListener('click', onImageClick);

                // 이미지가 사용되었는지 확인 후 배치
                if (localStorage.getItem(`image-${i}`) === 'used') {
                    usedImagesContainer.appendChild(imgElement);
                    currentCount++; // 현재 사용된 이미지 수 증가
                } else {
                    unusedImagesContainer.appendChild(imgElement);
                }
            }

            updateAchievementStatus(); // 업적 상태 업데이트
        }

        function onImageClick(event) {
            const imgElement = event.target;
            const imgId = imgElement.dataset.id;

            if (localStorage.getItem(`image-${imgId}`) === 'used') {
                localStorage.removeItem(`image-${imgId}`);
                unusedImagesContainer.appendChild(imgElement);
                currentCount--; // 현재 사용된 이미지 수 감소
            } else {
                localStorage.setItem(`image-${imgId}`, 'used');
                usedImagesContainer.appendChild(imgElement);
                currentCount++; // 현재 사용된 이미지 수 증가
            }

            updateAchievementStatus(); // 업적 상태 업데이트
        }

        function updateAchievementStatus() {
            const remaining = achievementGoal - currentCount;
            if (remaining > 0) {
                achievementStatus.textContent = `업적까지 ${remaining}명 남음`;
                achievementStatus.classList.remove('achievement-complete');
            } else {
                achievementStatus.textContent = '업적 완료';
                achievementStatus.classList.add('achievement-complete');
            }
        }

        // 페이지 로드 시 이미지 불러오기
        document.addEventListener('DOMContentLoaded', loadImages);
    </script>
    <a href="https://visitorbadge.io/status?path=https%3A%2F%2Fdocs.srpg.life"><img src="https://api.visitorbadge.io/api/visitors?path=https%3A%2F%2Fdocs.srpg.life&countColor=%23263759" /></a>
</body>
</html>
