<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>아이템 선택 및 랜덤 옵션</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        form {
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        select {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 20px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        button {
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            width: 100%;
        }

        button:hover {
            background-color: #0056b3;
        }

        button:active {
            transform: scale(0.98);
        }

        .options {
            margin-top: 20px;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .option-item {
            font-size: 18px;
            color: #333;
            margin: 5px 0;
        }

        .highlight {
            color: red;
        }

        .status {
            margin-top: 20px;
            padding: 10px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .status p {
            font-size: 18px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1><img src="115.png"> 각인을 해보자냥</h1>
    <form id="item-form">
        <select id="item-select">
            <option value="">각인 재화 선택</option>
            <option value="검">검</option>
            <option value="지팡이">지팡이</option>
            <option value="성배">성배</option>
            <option value="별의 코인">별의 코인</option>
        </select>
        <button type="button" onclick="generateOptions()">각인</button>
    </form>

    <div class="options" id="options"></div>

    <div class="status">
        <p>소비된 아이템 수: <span id="item-count">0</span></p>
        <p>총 낙원 코인: <span id="coin-total">30,000</span></p>
    </div>

    <script>
        let itemCount = 0;
        let coinTotal = 30000;  // 초기 코인 값

        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        function updateStatus() {
            document.getElementById('item-count').textContent = itemCount;
            document.getElementById('coin-total').textContent = formatNumber(coinTotal);
        }

        function generateOptions() {
            const itemSelect = document.getElementById('item-select');
            const itemValue = itemSelect.value;
            if (!itemValue) {
                alert('아이템을 선택하세요.');
                return;
            }

            let options = [];
            let ranges = {};

            // 아이템에 따른 옵션과 범위 설정
            switch (itemValue) {
                case '검':
                    options = [
                        '물공(%)',
                        '물공 값',
                        '마공(%)',
                        '마공 값',
                        'HP(%)',
                        'HP 값',
                        '물방(%)',
                        '물방 값',
                        '마방(%)',
                        '마방 값'
                    ];
                    ranges = {
                        '물공(%)': [1, 20],
                        '물공 값': [1, 160],
                        '마공(%)': [1, 20],
                        '마공 값': [1, 160],
                        'HP(%)': [1, 10],
                        'HP 값': [1, 200],
                        '물방(%)': [1, 10],
                        '물방 값': [1, 40],
                        '마방(%)': [1, 10],
                        '마방 값': [1, 40]
                    };
                    break;
                case '지팡이':
                    options = [
                        '물공(%)',
                        '물공 값',
                        '마공(%)',
                        '마공 값',
                        'HP(%)',
                        'HP 값',
                        '물방(%)',
                        '물방 값',
                        '마방(%)',
                        '마방 값'
                    ];
                    ranges = {
                        '물공(%)': [1, 15],
                        '물공 값': [1, 120],
                        '마공(%)': [1, 15],
                        '마공 값': [1, 120],
                        'HP(%)': [1, 15],
                        'HP 값': [1, 300],
                        '물방(%)': [1, 15],
                        '물방 값': [1, 60],
                        '마방(%)': [1, 15],
                        '마방 값': [1, 60]
                    };
                    break;
                case '성배':
                    options = [
                        '물공(%)',
                        '물공 값',
                        '마공(%)',
                        '마공 값',
                        'HP(%)',
                        'HP 값',
                        '물방(%)',
                        '물방 값',
                        '마방(%)',
                        '마방 값'
                    ];
                    ranges = {
                        '물공(%)': [1, 15],
                        '물공 값': [1, 120],
                        '마공(%)': [1, 15],
                        '마공 값': [1, 120],
                        'HP(%)': [1, 15],
                        'HP 값': [1, 300],
                        '물방(%)': [1, 15],
                        '물방 값': [1, 60],
                        '마방(%)': [1, 15],
                        '마방 값': [1, 60]
                    };
                    break;
                case '별의 코인':
                    options = [
                        '물공(%)',
                        '물공 값',
                        '마공(%)',
                        '마공 값',
                        'HP(%)',
                        'HP 값',
                        '물방(%)',
                        '물방 값',
                        '마방(%)',
                        '마방 값'
                    ];
                    ranges = {
                        '물공(%)': [1, 10],
                        '물공 값': [1, 80],
                        '마공(%)': [1, 10],
                        '마공 값': [1, 80],
                        'HP(%)': [1, 20],
                        'HP 값': [1, 400],
                        '물방(%)': [1, 20],
                        '물방 값': [1, 80],
                        '마방(%)': [1, 20],
                        '마방 값': [1, 80]
                    };
                    break;
            }

            // 랜덤으로 1개에서 3개의 옵션 선택 (50% 확률로 3개)
            let numOptions;
            if (Math.random() < 0.4) {
                numOptions = 3;
            } else {
                numOptions = Math.floor(Math.random() * 2) + 1; // 1 또는 2
            }

            let maxRanges = {};

            const selectedOptions = [];
    while (selectedOptions.length < numOptions) {
        const randomIndex = Math.floor(Math.random() * options.length);
        const option = options[randomIndex];
        if (!selectedOptions.includes(option)) {
            selectedOptions.push(option);
        }
    }

    // 선택한 옵션과 수치 표시
    const optionsDiv = document.getElementById('options');
    optionsDiv.innerHTML = '';  // 기존 내용 제거

    selectedOptions.forEach(option => {
        const value = getRandomNumber(...ranges[option]);
        const optionElement = document.createElement('div');
        optionElement.className = 'option-item';
        optionElement.textContent = `${option}: ${value}`;
        if (value === ranges[option][1]) {
            optionElement.classList.add('highlight');
        }
        optionsDiv.appendChild(optionElement);
    });

            // 소비된 아이템 수 및 코인 업데이트
            itemCount++;
            coinTotal += 30000;
            updateStatus();
        }

        // 초기 상태 업데이트
        updateStatus();
    </script>
</body>
</html>
