<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>강화 비교</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
      margin: 20px;
      background: #f7f7fb;
    }
    .card {
      background: #fff;
      padding: 18px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(20,20,60,0.06);
      max-width: 880px;
      margin: 0 auto;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: 600;
    }
    input, select {
      padding: 8px 10px;
      margin-top: 6px;
      border-radius: 8px;
      border: 1px solid #ddd;
      width: 160px;
    }
    button {
      margin-top: 12px;
      padding: 8px 14px;
      border-radius: 10px;
      border: 0;
      background: #2f6bf6;
      color: #fff;
      cursor: pointer;
    }
    .result {
      margin-top: 18px;
      padding: 12px;
      border-radius: 8px;
      background: #fbfbff;
      border: 1px solid #eef;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }
    th, td {
      padding: 6px 8px;
      border: 1px solid #eee;
      text-align: right;
    }
    th {
      background: #fafafa;
    }
    .muted {
      color: #666;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>강화 비교기</h1>
    <label>
      강화 수치 (1~20):
      <input type="text" id="levelInput">
    </label>

    <label>
      강화 포인트 (0~100):
      <input type="text" id="pointInput">
    </label>

    <button onclick="showEnhancedLevel()">확인</button>

    <div class="result">
      <p id="enhancedValue"></p>
      <p id="enhancedLevel"></p>
      <p id="chart6Value"></p>
      <p id="chart8Value"></p>
      <p id="chart8Percent"></p>
    </div>
  </div>

<script>
const chart = {
 6: [75,182,323,512,765,1107,1560,2166,2976,4091,6318,9928,17928,34848,75081,212581,453281,762681,1175181,2000281],
 8: [169,410,727,1152,1721,2491,3510,4874,6696,9205,14216,22338,40338,78408,168932,478307,1019882,1716032,2644157,4500632]
};

function showEnhancedLevel() {
  const level = parseInt(document.getElementById("levelInput").value, 10);
  const point = parseFloat(document.getElementById("pointInput").value);

  if (isNaN(level) || level < 1 || level > 20 || isNaN(point) || point < 0) {
    alert("강화 수치는 1~20, 포인트는 0 이상 입력해주세요.");
    return;
  }

  const baseValue6 = chart[6][level - 1];
  const nextValue6 = chart[6][level] || baseValue6;
  const diff6 = nextValue6 - baseValue6;

  // 소모 재화 계산
  const consumedResource = baseValue6 + diff6 * (point / 100);

  document.getElementById("enhancedValue").innerText =
    "소모 재화: " + consumedResource.toFixed(2);

  // chart[8]과 비교하여 넘어선 강화 수치 찾기
  let surpassedLevel = 0;
  for (let idx = level - 1; idx >= 0; idx--) {
    if (consumedResource >= chart[8][idx]) {
      surpassedLevel = idx + 1;
      break;
    }
  }

  document.getElementById("enhancedLevel").innerText =
    "넘어선 값은 " + surpassedLevel + "강 입니다.";

  // 선택된 chart[6], chart[8] 값 표시
  document.getElementById("chart6Value").innerText = "선택한 chart[6] 값: " + baseValue6;
  document.getElementById("chart8Value").innerText = "선택한 chart[8] 값: " + chart[8][level - 1];

  // chart[8] 기준 퍼센트 계산
  const chart8Value = chart[8][level - 1];
  const chart8Percent = (consumedResource / chart8Value) * 100;
  document.getElementById("chart8Percent").innerText =
    "chart[8] 기준 퍼센트: " + chart8Percent.toFixed(2) + "%";
}
</script>
</body>
</html>
